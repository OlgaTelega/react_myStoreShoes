{"version":3,"sources":["components/Drawer/Drawer.module.scss","components/Card/Card.module.scss","context.js","hooks/useCart.js","components/Header.js","components/info.jsx","components/Drawer/index.js","components/Card/Cart.js","pages/Home.jsx","pages/Favorites.jsx","pages/Orders.jsx","App.js","index.js"],"names":["module","exports","AppContext","React","createContext","useCart","useContext","cartItems","setCartItems","totalPrice","reduce","sum","obj","price","Header","props","className","to","width","height","src","alt","onClick","onClickCart","Info","image","title","description","setCartOpened","delay","ms","Promise","resolve","setTimeout","Index","onClose","onRemove","items","opened","useState","orderId","setOrderId","isOrderComplete","setIsOrderComplete","isLoading","setIsLoading","onClickOrder","a","axios","post","data","id","i","length","item","delete","console","log","styles","overlay","overlayVisible","drawer","map","style","backgroundImage","imageUrl","disabled","Cart","onFavorite","onPlus","favorited","loading","isItemAdded","isFavorite","setIsFavorite","parentId","card","speed","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","favorite","plus","Home","searchValue","setSearchValue","onChangeSearchInput","onAddToFavorite","onAddToCart","onChange","value","placeholder","filtredItems","filter","toLowerCase","includes","Array","index","renderItems","Favorites","favorites","Orders","orders","setOrders","useEffect","get","prev","alert","App","setItems","setFavorites","cartOpened","all","cartResponse","favoritesResponse","itemsResponse","fetchData","findItem","find","Number","error","favObj","Provider","some","path","exact","event","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.830389c5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Drawer_overlay__1ipwf\",\"overlayVisible\":\"Drawer_overlayVisible__3T7SR\",\"drawer\":\"Drawer_drawer__3hX0_\",\"items\":\"Drawer_items__3Glit\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__2ZdOW\",\"plus\":\"Card_plus__2VeTs\",\"favorite\":\"Card_favorite__3Hh2L\"};","import React from \"react\";\r\n\r\nconst AppContext = React.createContext({});\r\n\r\nexport default AppContext;","import React from \"react\";\r\nimport AppContext from \"../context\";\r\n\r\nexport const useCart = () => {\r\n    const {cartItems, setCartItems} = React.useContext(AppContext);\r\n    const totalPrice = cartItems.reduce((sum, obj)=>obj.price + sum, 0);\r\n\r\n    return{cartItems, setCartItems, totalPrice};\r\n};\r\n","import React from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {useCart} from \"../hooks/useCart\";\r\n\r\n\r\nfunction Header(props) {\r\n    const {totalPrice} = useCart();\r\n\r\n    return(\r\n        <header className='d-flex justify-between align-center p-40'>\r\n            <Link to='/'>\r\n            <div className='d-flex align-center'>\r\n                <img width={40} height={40} src=\"img/logo.png\" alt=\"photo\"/>\r\n                <div>\r\n                    <h3 className='text-uppercase'>React Sneakers</h3>\r\n                    <p className= 'opacity-5'>Магазин лучших кроссовок</p>\r\n                </div>\r\n            </div>\r\n            </Link>\r\n            <ul className='d-flex'>\r\n                <li onClick={props.onClickCart} className='mr-30 cu-p'>\r\n                    <img width={18} height={18} src=\"img/cart.svg\" alt=\"Корзина\"/>\r\n                    <span>{totalPrice} руб.</span>\r\n                </li>\r\n                <li className='mr-20 cu-p'>\r\n                    <Link to='/favorites'>\r\n                        <img width={18} height={18} src=\"img/heart.svg\" alt=\"Закладки\"/>\r\n                    </Link>\r\n                </li>\r\n                <li>\r\n                    <Link to='/orders'>\r\n                        <img width={18} height={18} src=\"img/user.svg\" alt=\"Пользователь\"/>\r\n                    </Link>\r\n                </li>\r\n            </ul>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\nimport AppContext from '../context';\r\n\r\nconst Info = ({image, title, description}) => {\r\n    const {setCartOpened} = React.useContext(AppContext);\r\n\r\n    return (\r\n            <div className='cartEmpty d-flex align-center justify-center flex-column flex'>\r\n                <img className='mb-20' width='120px' src={image} alt=\"cart\"/>\r\n                <h2>{title}</h2>\r\n                <p className='opacity-6'>{description}</p>\r\n                <button onClick={()=>setCartOpened(false)} className='green-button'>\r\n                    <img src=\"img/arrow2.svg\" alt=\"arrow\"/>\r\n                    Вернуться назад\r\n                </button>\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default Info;","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Info from \"../info\";\r\nimport {useCart} from \"../../hooks/useCart\";\r\n\r\nimport styles from './Drawer.module.scss';\r\n\r\nconst delay = (ms) => new Promise((resolve)=> setTimeout(resolve, ms));\r\n\r\nfunction Index({onClose, onRemove, items = [], opened}) {\r\n    const {cartItems, setCartItems, totalPrice} = useCart();\r\n    const [orderId, setOrderId] = React.useState(null);\r\n    const [isOrderComplete, setIsOrderComplete] = React.useState(false);\r\n    const [isLoading, setIsLoading] = React.useState(false);\r\n\r\n    const onClickOrder = async () => {\r\n        try {\r\n            setIsLoading(true);\r\n            const {data} = await axios.post('https://6140d864357db50017b3d923.mockapi.io/orders', {\r\n                items: cartItems,\r\n            });\r\n            setOrderId(data.id);\r\n            setIsOrderComplete(true);\r\n            setCartItems([]);\r\n\r\n           for (let i = 0; i < cartItems.length; i++){\r\n               const item = cartItems[i];\r\n                   await axios.delete('https://6140d864357db50017b3d923.mockapi.io/cart' + item.id,);\r\n               await delay(1000);\r\n               }\r\n\r\n        } catch (error) {\r\n            console.log('Не удалось создать заказ');\r\n        }\r\n        setIsLoading(false);\r\n    };\r\n    return (\r\n        <div className={`${styles.overlay} ${opened ? styles.overlayVisible: ''}`}>\r\n            <div className={styles.drawer}>\r\n                <h2 className='d-flex justify-between mb-20'>Корзина\r\n                    <img onClick={onClose} className='remove-btn cu-p' src=\"img/btn-remove.svg\" alt=\"Close\"/>\r\n                </h2>\r\n\r\n                {items.length > 0 ? (\r\n                    <div className='d-flex flex-column flex'>\r\n                        <div className=\"items flex\">\r\n                            {items.map((obj, id) => (\r\n                                <div key={obj.id} className=\"cart-item d-flex align-center mb-20\">\r\n                                    <div\r\n                                        style={{backgroundImage: `url(${obj.imageUrl})`}}\r\n                                        className='cart-item-img'>\r\n                                    </div>\r\n                                    <div className='mr-20 flex'>\r\n                                        <p className='mb-5'>{obj.title}</p>\r\n                                        <b>{obj.price} руб.</b>\r\n                                    </div>\r\n                                    <img onClick={() => onRemove(obj.id)}\r\n                                         className='remove-btn'\r\n                                         src=\"img/btn-remove.svg\"\r\n                                         alt=\"Remove\"/>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                        <div className=\"cart-total-block\">\r\n                            <ul>\r\n                                <li>\r\n                                    <span>Итого:</span>\r\n                                    <div></div>\r\n                                    <b>{totalPrice} руб.</b></li>\r\n                                <li>\r\n                                    <span>Налог 5%:</span>\r\n                                    <div></div>\r\n                                    <b>{totalPrice * 0.05} руб.</b></li>\r\n                            </ul>\r\n                            <button disabled={isLoading} onClick={onClickOrder} className='green-button'>\r\n                                Оформить заказ <img src=\"img/arrow.svg\" alt=\"Arrow\"/>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                ) : (\r\n                    <Info\r\n                        title={isOrderComplete ? 'Заказ оформлен!' : 'Корзина пустая'}\r\n                        description={\r\n                            isOrderComplete\r\n                                ? `Ваш заказ #${orderId} скоро будет передан курьерской доставке`\r\n                                : 'Добавьте хотя бы одну пару кроссовок, чтобы сделать заказ.'}\r\n                        image={isOrderComplete ? 'img/complete-order.jpg' : 'img/empty-cart.jpg'}\r\n                    />\r\n                )}\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Index;","import React from \"react\";\r\nimport ContentLoader from \"react-content-loader\";\r\n\r\nimport styles from './Card.module.scss';\r\n\r\nimport AppContext from \"../../context\";\r\n\r\n\r\nfunction Cart({\r\n                  id,\r\n                  title,\r\n                  imageUrl,\r\n                  price,\r\n                  onFavorite,\r\n                  onPlus,\r\n                  favorited = false,\r\n                  loading = false,\r\n              }) {\r\n    const {isItemAdded} = React.useContext(AppContext);\r\n    const [isFavorite, setIsFavorite] = React.useState(favorited);\r\n    const obj = {id, parentId: id, title, imageUrl, price};\r\n\r\n    const onClickPlus = () => {\r\n        onPlus(obj);\r\n    };\r\n\r\n    const onClickFavorite = () => {\r\n        onFavorite(obj);\r\n        setIsFavorite(!isFavorite);\r\n    };\r\n\r\n    return (\r\n        <div className={styles.card}>\r\n            {loading ? (<ContentLoader\r\n                speed={4}\r\n                width={160}\r\n                height={210}\r\n                viewBox=\"0 0 150 210\"\r\n                backgroundColor=\"#f3f3f3\"\r\n                foregroundColor=\"#ecebeb\">\r\n                <rect x=\"55\" y=\"-133\" rx=\"3\" ry=\"3\" width=\"88\" height=\"6\"/>\r\n                <rect x=\"101\" y=\"-59\" rx=\"3\" ry=\"3\" width=\"52\" height=\"9\"/>\r\n                <rect x=\"0\" y=\"0\" rx=\"11\" ry=\"11\" width=\"150\" height=\"100\"/>\r\n                <rect x=\"0\" y=\"117\" rx=\"5\" ry=\"5\" width=\"150\" height=\"15\"/>\r\n                <rect x=\"0\" y=\"140\" rx=\"5\" ry=\"5\" width=\"100\" height=\"15\"/>\r\n                <rect x=\"0\" y=\"178\" rx=\"5\" ry=\"5\" width=\"80\" height=\"25\"/>\r\n                <rect x=\"118\" y=\"173\" rx=\"10\" ry=\"10\" width=\"32\" height=\"32\"/>\r\n            </ContentLoader>) : (\r\n                <>\r\n                    {onFavorite && (\r\n                        <div className={styles.favorite} onClick={onClickFavorite}>\r\n                            <img src={isFavorite ? \"img/heart-liked.svg\" : \"img/heart-unliked.svg\"} alt=\"Unliked\"/>\r\n                        </div>\r\n                    )}\r\n                    <img width={133} height={112} src={imageUrl} alt=\"Sneakers\"/>\r\n                    <h5>{title}</h5>\r\n                    <div className='d-flex justify-between align-center'>\r\n                        <div className='d-flex flex-column'>\r\n                            <span>Цена:</span>\r\n                            <b>{price} руб.</b>\r\n                        </div>\r\n                        {onPlus && (\r\n                            <img\r\n                                className={styles.plus}\r\n                                onClick={onClickPlus}\r\n                                src={isItemAdded(id) ? 'img/btn-chacked.svg' : 'img/btn-plus.svg'}\r\n                                alt=\"Plus\"\r\n                            />\r\n                        )}\r\n                    </div>\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default Cart;\r\n\r\n\r\n","import Cart from \"../components/Card/Cart\";\r\nimport React from \"react\";\r\n\r\nfunction Home({\r\n                  items,\r\n                  searchValue,\r\n                  setSearchValue,\r\n                  onChangeSearchInput,\r\n                  onAddToFavorite,\r\n                  onAddToCart,\r\n                  isLoading,\r\n              }) {\r\n    const renderItems = () => {\r\n        const filtredItems = items && items.filter((item) =>\r\n            item.title.toLowerCase().includes(searchValue.toLowerCase()),\r\n        );\r\n        return (isLoading ? [...Array(8)] : filtredItems).map((item, index) => (\r\n                <Cart\r\n                    key={index}\r\n                    {...item}\r\n                    onFavorite={(obj) => onAddToFavorite(obj)}\r\n                    onPlus={(obj) => onAddToCart(obj)}\r\n                    loading={isLoading}\r\n                    {...item}\r\n                />\r\n            ));\r\n    };\r\n    return (\r\n        <div className='content p-40'>\r\n            <div className='d-flex align-center justify-between mb-40'>\r\n                <h1>{searchValue ? `Поиск по запросу: '${searchValue}'` : 'Все кроссовки'}</h1>\r\n                <div className='search-block d-flex'>\r\n                    <img\r\n                        src=\"img/search.svg\"\r\n                        alt=\"Search\"/>\r\n                    {searchValue && (\r\n                        <img onClick={() => setSearchValue('')}\r\n                                          className='clear cu-p'\r\n                                          src=\"img/btn-remove.svg\"\r\n                                          alt=\"Clear\"/>\r\n                    )}\r\n                    <input onChange={onChangeSearchInput} value={searchValue} placeholder='Поиск...'/>\r\n                </div>\r\n            </div>\r\n            <div className=\"d-flex flex-wrap\">\r\n\r\n                {renderItems()}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Home;\r\n\r\n","import React from \"react\";\r\nimport Cart from \"../components/Card/Cart\";\r\nimport AppContext from \"../context\";\r\n\r\nfunction Favorites(){\r\n    const {favorites, onAddToFavorite} = React.useContext(AppContext);\r\n\r\n    return(\r\n        <div className='content p-40'>\r\n            <div className='d-flex align-center justify-between mb-40'>\r\n                <h1>Мои закладки</h1>\r\n            </div>\r\n\r\n            <div className=\"d-flex flex-wrap\">\r\n                {favorites.map((item, index) => (\r\n                        <Cart\r\n                            key={index}\r\n                            favorited={true}\r\n                            onFavorite={onAddToFavorite}\r\n                            {...item}/>\r\n                    ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Favorites;","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Cart from \"../components/Card/Cart\";\r\nimport AppContext from \"../context\";\r\n\r\nfunction Orders() {\r\n    const {onAddToFavorite, onAddToCart} = React.useContext(AppContext);\r\n    const [orders, setOrders] = React.useState([]);\r\n    const [isLoading, setIsLoading] = React.useState(true);\r\n\r\n    React.useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                const {data} = await axios.get('https://6140d864357db50017b3d923.mockapi.io/orders');\r\n                setOrders(data.reduce((prev, obj) => [...prev, ...obj.items], []));\r\n                setIsLoading(false);\r\n            } catch (error) {\r\n                alert('Ошибка ошибка при запросе заказов');\r\n            }\r\n        })();\r\n    }, []);\r\n    return (\r\n        <div className='content p-40'>\r\n            <div className='d-flex align-center justify-between mb-40'>\r\n                <h1>Мои заказы</h1>\r\n            </div>\r\n\r\n            <div className=\"d-flex flex-wrap\">\r\n                {(isLoading ? [...Array(8)] : orders).map((item, index) => (\r\n                    <Cart\r\n                        key={index} loading={isLoading}{...item}/>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Orders;","import React from 'react';\nimport {Route} from 'react-router-dom';\nimport axios from 'axios';\nimport Header from './components/Header';\nimport Index from './components/Drawer';\nimport AppContext from './context'\n\nimport Home from './pages/Home';\nimport Favorites from \"./pages/Favorites\";\nimport Orders from \"./pages/Orders\";\n\nfunction App() {\n    const [items, setItems] = React.useState([]);\n    const [cartItems, setCartItems] = React.useState([]);\n    const [favorites, setFavorites] = React.useState([]);\n    const [searchValue, setSearchValue] = React.useState('');\n    const [cartOpened, setCartOpened] = React.useState(false);\n    const [isLoading, setIsLoading] = React.useState(true);\n\n    React.useEffect(() => {\n        async function fetchData() {\n            try {\n                const [cartResponse, favoritesResponse, itemsResponse] = await Promise.all([\n                    axios.get('https://6140d864357db50017b3d923.mockapi.io/cart'),\n                    axios.get('https://6140d864357db50017b3d923.mockapi.io/favorites'),\n                    axios.get('https://6140d864357db50017b3d923.mockapi.io/items'),\n                ]);\n\n                setIsLoading(false);\n                setCartItems(cartResponse.data);\n                setFavorites(favoritesResponse.data);\n                setItems(itemsResponse.data);\n            } catch (error) {\n                alert('Ошибка при запросе данных');\n            }\n        }\n\n        fetchData();\n    }, []);\n\n    const onAddToCart = async (obj) => {\n        try {\n            const findItem = cartItems.find((item) => Number(item.id) === Number(obj.id));\n            if (findItem) {\n                setCartItems((prev) => prev.filter((item) => Number(item.parentId) !== Number(obj.id)));\n                await axios.delete(`https://6140d864357db50017b3d923.mockapi.io/cart/${findItem.id}`);\n\n            } else {\n                setCartItems((prev) => [...prev, obj]);\n                const {data} = await axios.post('https://6140d864357db50017b3d923.mockapi.io/cart', obj);\n                setCartItems((prev) => prev.map(item => {\n                    if (item.parentId === data.parentId) {\n                        return {\n                            ...item, id:data.id\n                        };\n                    }\n                    return item;\n                }));\n            }\n        } catch (error) {\n            alert('Ошибка при добавлении в корзину');\n            console.error(error);\n        }\n    };\n\n    const onRemoveItem = (id) => {\n        try {\n            axios.delete(`https://6140d864357db50017b3d923.mockapi.io/cart/${id}`);\n            setCartItems((prev) => prev.filter((item) => Number(item.id) !== Number(id)));\n        } catch (error) {\n            alert('Ошибка при удалении из корзины');\n            console.error(error);\n        }\n    };\n\n    const onAddToFavorite = async (obj) => {\n        try {\n            if (favorites.find((favObj) => Number(favObj.id) === Number(obj.id))) {\n                axios.delete(`https://6140d864357db50017b3d923.mockapi.io/favorites/${obj.id}`);\n                setFavorites((prev) => prev.filter((item) => Number(item.id) !== Number(obj.id)));\n            } else {\n                const {data} = await axios.post(`https://6140d864357db50017b3d923.mockapi.io/favorites`, obj);\n                setFavorites((prev) => [...prev, data]);\n            }\n        } catch (error) {\n            alert('Не удалось добавить в избранное');\n            console.error(error);\n        }\n    };\n    const onChangeSearchInput = (event) => {\n        setSearchValue(event.target.value);\n    };\n\n    const isItemAdded = (id) => {\n        cartItems.some((obj) => Number(obj.parentId) === Number(id));\n    };\n\n    return (\n        <AppContext.Provider value={{\n            items,\n            cartItems,\n            favorites,\n            isItemAdded,\n            onAddToFavorite,\n            onAddToCart,\n            setCartOpened,\n            setCartItems\n        }}>\n            <div className='wrapper clear'>\n\n                <Index items={cartItems} onClose={() => setCartOpened(false\n                )} onRemove={onRemoveItem} opened={cartOpened}/>\n\n                <Header onClickCart={() => setCartOpened(true)}/>\n\n                <Route path='/' exact>\n                    <Home items={items}\n                          cartItems={cartItems}\n                          searchValue={searchValue}\n                          setSearchValue={setSearchValue}\n                          onChangeSearchInput={onChangeSearchInput}\n                          onAddToFavorite={onAddToFavorite}\n                          onAddToCart={onAddToCart}\n                          isLoading={isLoading}\n                    />\n                </Route>\n                <Route path='/favorites' exact>\n                    <Favorites/>\n                </Route>\n\n                <Route path='/orders' exact>\n                    <Orders/>\n                </Route>\n            </div>\n        </AppContext.Provider>\n    );\n}\n\nexport default App;\n\n","import React from 'react';\nimport {BrowserRouter as Router} from \"react-router-dom\";\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport 'macro-css';\n\nReactDOM.render(\n    <React.StrictMode>\n        <Router>\n            <App/>\n        </Router>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}